--- a/homeassistant/package_constraints.txt
+++ b/homeassistant/package_constraints.txt
@@ -75,7 +75,7 @@ pandas==1.3.0
 # regex causes segfault with version 2021.8.27
 # https://bitbucket.org/mrabarnett/mrab-regex/issues/421/2021827-results-in-fatal-python-error
 # This is fixed in 2021.8.28
-regex==2021.8.28
+regex!=2021.8.27,>=2021.8.28
 
 # anyio has a bug that was fixed in 3.3.1
 # can remove after httpx/httpcore updates its anyio version pin
--- a/script/gen_requirements_all.py
+++ b/script/gen_requirements_all.py
@@ -101,7 +101,7 @@ pandas==1.3.0
 # regex causes segfault with version 2021.8.27
 # https://bitbucket.org/mrabarnett/mrab-regex/issues/421/2021827-results-in-fatal-python-error
 # This is fixed in 2021.8.28
-regex==2021.8.28
+regex!=2021.8.27,>=2021.8.28
 
 # anyio has a bug that was fixed in 3.3.1
 # can remove after httpx/httpcore updates its anyio version pin
