From 89638c37b467817f015b0b50d634419dc4fe5683 Mon Sep 17 00:00:00 2001
From: The-BB <tun.chen.bo@gmail.com>
Date: Thu, 2 Nov 2023 19:49:54 +0300
Subject: [PATCH] lang/python/pillow: bump to 10.1.0

---
 lang/python/pillow/Makefile                   |  5 +++--
 lang/python/pillow/patches/001-fix-pre.patch  | 10 ++++++++++
 lang/python/pillow/patches/002-fix-post.patch | 10 ++++++++++
 3 files changed, 23 insertions(+), 2 deletions(-)
 create mode 100644 lang/python/pillow/patches/001-fix-pre.patch
 create mode 100644 lang/python/pillow/patches/002-fix-post.patch

diff --git a/lang/python/pillow/Makefile b/lang/python/pillow/Makefile
index c974723a9..4ee452bef 100644
--- a/lang/python/pillow/Makefile
+++ b/lang/python/pillow/Makefile
@@ -3,15 +3,16 @@
 # Copyright © 1995-2011 by Fredrik Lundh
 # Copyright © 2016 by Alex Clark and contributors
 #
+# XXX bump (hass)
 
 include $(TOPDIR)/rules.mk
 
 PKG_NAME:=pillow
-PKG_VERSION:=10.0.0
+PKG_VERSION:=10.1.0
 PKG_RELEASE:=1
 
 PYPI_NAME:=Pillow
-PKG_HASH:=9c82b5b3e043c7af0d95792d0d20ccf68f61a1fec6b3530e718b688422727396
+PKG_HASH:=e6bf8de6c36ed96c86ea3b6e1d5273c53f46ef518a062464cd7ef5dd2cf92e38
 
 PKG_BUILD_DEPENDS:=python-setuptools-scm/host
 
diff --git a/lang/python/pillow/patches/001-fix-pre.patch b/lang/python/pillow/patches/001-fix-pre.patch
new file mode 100644
index 000000000..1366bd906
--- /dev/null
+++ b/lang/python/pillow/patches/001-fix-pre.patch
@@ -0,0 +1,10 @@
+--- a/pyproject.toml
++++ b/pyproject.toml
+@@ -2,6 +2,7 @@
+ build-backend = "backend"
+ requires = [
+   "setuptools>=67.8",
++  "wheel",
+ ]
+ backend-path = [
+   "_custom_build",
diff --git a/lang/python/pillow/patches/002-fix-post.patch b/lang/python/pillow/patches/002-fix-post.patch
new file mode 100644
index 000000000..ff781fe79
--- /dev/null
+++ b/lang/python/pillow/patches/002-fix-post.patch
@@ -0,0 +1,10 @@
+--- a/pyproject.toml
++++ b/pyproject.toml
+@@ -2,7 +2,6 @@
+ build-backend = "backend"
+ requires = [
+   "setuptools",
+-  "wheel",
+ ]
+ backend-path = [
+   "_custom_build",
-- 
2.30.2

